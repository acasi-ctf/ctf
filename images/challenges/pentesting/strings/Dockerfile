# Dockerfile - strings Tutorial
FROM gcc:11 AS builder

WORKDIR /

COPY challenges/pentesting/challenges/strings/src/lock.cpp .
RUN g++ -o lock lock.cpp

FROM ghcr.io/acasi-ctf/ctf/penimage:latest

WORKDIR /home/player

#Install packages and install binutils
RUN apt-get update && \
  apt-get -yq --no-install-recommends install binutils && \
  apt-get clean all && \
  rm -rf /var/lib/apt/lists/*

# Copy over executable
COPY --from=builder /lock /home/player/lock
